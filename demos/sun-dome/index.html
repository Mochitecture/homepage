<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>Local Sun Dome｜Mochitecture</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <meta name="description" content="現在地とローカル時刻から、太陽の位置と日の出／日の入を24時間グラフで眺めるミニデモ。">

  <link rel="icon" href="/mochitecture_icon.png">
  <link rel="stylesheet" href="/assets/base.css">
  <link rel="stylesheet" href="/demos/sun-dome/styles.css">

  <script defer src="/assets/include.js"></script>
  <script defer src="/demos/sun-dome/app.js"></script>
</head>
<body class="sun-page">
  <div data-include="/partials/header.html"></div>

  <main class="site-main">
    <div class="sun-wrap">
      <header class="sun-header">
        <h1 class="page-title">Local Sun Dome</h1>
        <p class="page-lead">
          現在地とローカル時刻から、太陽の位置と日の出／日の入を24時間グラフで眺めるミニデモ。
        </p>
      </header>

      <section class="sun-layout">
        <!-- NOW スナップショット -->
        <section class="sun-card sun-snapshot">
          <header class="sun-card-header">
            <p class="sun-meta" id="sun-meta">
              <span class="sun-meta-badge">NOW</span>
              <span class="sun-meta-text" id="sun-meta-text">
                現在地取得中…
              </span>
            </p>
          </header>

          <dl class="sun-snapshot-grid">
            <div>
              <dt>太陽高度角</dt>
              <dd id="sun-elevation">-- °</dd>
            </div>
            <div>
              <dt>太陽方位角</dt>
              <dd id="sun-azimuth">-- °</dd>
            </div>
            <div>
              <dt>日の出</dt>
              <dd id="sun-sunrise">--:--</dd>
            </div>
            <div>
              <dt>日の入</dt>
              <dd id="sun-sunset">--:--</dd>
            </div>
          </dl>

          <p class="sun-message" id="sun-message">
            ブラウザの位置情報 API から現在地を自動取得し、Sun API から太陽位置を取得しています。
          </p>
        </section>

        <!-- 24時間グラフ -->
        <section class="sun-card sun-chart">
          <header class="sun-card-header">
            <p class="sun-meta">
              <span class="sun-meta-badge">CHART</span>
              <span class="sun-meta-text">
                24時間の太陽軌道（方位角 × 高度角）
              </span>
            </p>
          </header>
        
          <div class="sun-chart-body" id="sun-chart">
            <p class="sun-chart-placeholder">
              位置情報が許可されると、ここに 24時間分の太陽軌道（横軸：太陽方位角、縦軸：太陽高度角）が表示されます。
            </p>
          </div>
        
          <p class="sun-chart-note">
            ※ 横軸が太陽方位角（0°＝北方向、90°＝東、180°＝南、270°＝西）、縦軸が太陽高度角です。0°のラインが地平線に相当します。
          </p>
        </section>

        <!-- About -->
        <section class="sun-card sun-about">
          <header class="sun-card-header">
            <h2>About this demo</h2>
          </header>
          <p class="sun-about-text">
            ブラウザの Geolocation API で取得した緯度・経度とローカル時刻を Sun API
            （SPA ベースの太陽位置計算）に送り、返ってきた太陽高度角・太陽方位角と日の出／日の入時刻をページ上に表示するデモです。
            将来的には 1 分刻みのグラフに PV 方位や影のかかり方などを重ね、エネルギー系の可視化に応用していく予定です。
          </p>
        </section>
      </section>
    </div>
  </main>

  <div data-include="/partials/footer.html"></div>
</body>
</html>
