<!doctype html>
<html lang="ja">
<head>
  <!-- ============================================
       Web Coding Design Pattern | Mochitecture
       Role:
         - Mochitecture 全体のコード規約をまとめた基準書
         - HTML/CSS/JS/Folder/Naming の統一的な「読み方・書き方」
         - Archive / Demo / 新規ページ追加の実務フローも収録
       Notes:
         - 長期運用と将来拡張を前提に最小・最速の構造で整理
         - ページ名は web-coding-design-pattern.html に統一
       ============================================ -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Web Coding Design Pattern｜Mochitecture</title>
  <meta name="description" content="Mochitecture mini-site の実装ルールを体系化した Web Coding Design Pattern。HTML/CSS/JS/フォルダ構成/命名規則/Archive 自動生成などの基準書。">

  <meta property="og:title" content="Web Coding Design Pattern｜Mochitecture">
  <meta property="og:description" content="抽象→UI→Web 実装を最小で最速にするためのコード規約。">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://homepage-virid-zeta.vercel.app/web-coding-design-pattern.html">
  <meta property="og:image" content="https://homepage-virid-zeta.vercel.app/mochitecture_icon.png">
  <meta name="twitter:card" content="summary">

  <link rel="icon" type="image/png" href="/mochitecture_icon.png">
  <link rel="stylesheet" href="/assets/base.css?v=20251116b">
</head>

<body>
  <div data-include="/partials/header.html"></div>

  <main class="site-main wrap">

    <!-- =======================
         Head
    ======================== -->
    <header class="page-head">
      <h1 class="page-title">Web Coding Design Pattern</h1>
      <p class="page-lead">
        Mochitecture mini-site のための <strong>長期運用コーディング規約</strong>。
        「小さく出す」を軸にしつつ、後から読んでも迷わない実装指針をまとめています。
      </p>
    </header>

    <!-- =======================
         Index
    ======================== -->
    <nav class="pattern-toc card-works" aria-label="Pattern navigation">
      <h2>Index</h2>
      <ul class="bullets">
        <li><a href="#pattern-layout">P1. Layout Pattern</a></li>
        <li><a href="#pattern-css-layer">P2. CSS Layer Pattern</a></li>
        <li><a href="#pattern-js-structure">P3. JS Structure Pattern</a></li>
        <li><a href="#pattern-naming">P4. Naming Pattern</a></li>
        <li><a href="#pattern-folder">P5. Folder Pattern</a></li>
        <li><a href="#pattern-comment">P6. Comment Header Pattern</a></li>
        <li><a href="#pattern-page-style">P7. Page-Specific Style Pattern</a></li>
        <li><a href="#pattern-demo">P8. Demo Pattern</a></li>
        <li><a href="#pattern-archive">P9. Archive Card Pattern</a></li>
        <li><a href="#pattern-new-page">P10. New Page Template Pattern</a></li>
        <li><a href="#appendix-quick">Appendix A. 新しいページを5分で出す</a></li>
        <li><a href="#appendix-archive">Appendix B. Archive 追加手順（JSON → HTML）</a></li>
      </ul>
    </nav>


    <!-- ============================================
         P1 – Layout
    ============================================ -->
    <section id="pattern-layout" class="card-works">
      <header>
        <h2>P1. Layout Pattern（レイアウト）</h2>
        <p class="meta"><span>対象：全ページ</span><span>目的：見通しをよくする構造</span></p>
      </header>

      <p class="lead">
        全ページは「共通ヘッダー／main／共通フッター」の三段構成。
        ページ固有のレイアウトは <code>&lt;main&gt;</code> の中だけに書きます。
      </p>

<pre><code>&lt;body&gt;
  &lt;div data-include="/partials/header.html"&gt;&lt;/div&gt;

  &lt;main class="site-main wrap"&gt;
    &lt;!-- ページ固有 --&gt;
  &lt;/main&gt;

  &lt;div data-include="/partials/footer.html"&gt;&lt;/div&gt;
  &lt;script src="/assets/include.js"&gt;&lt;/script&gt;
&lt;/body&gt;
</code></pre>

      <ul class="bullets">
        <li><code>.wrap</code>：max-width 管理＋左右余白。</li>
        <li><code>.site-main</code>：フッター常時最下部構造のための伸長領域。</li>
        <li><code>.content-wrap</code>：Hero など中央寄せ用。</li>
      </ul>
    </section>


    <!-- ============================================
         P2 – CSS Layers
    ============================================ -->
    <section id="pattern-css-layer" class="card-works">
      <header>
        <h2>P2. CSS Layer Pattern（CSS 階層）</h2>
        <p class="meta"><span>対象：assets/base.css</span><span>目的：肥大化を防ぐ</span></p>
      </header>

      <p class="lead">CSS は将来的に分割可能なよう 4 レイヤーで整理します（今は1ファイル）。</p>

      <ul class="bullets">
        <li><strong>Tokens：</strong> 色・影・余白（<code>:root</code> 変数）</li>
        <li><strong>Layout：</strong> <code>.wrap</code> / <code>.site-main</code></li>
        <li><strong>Components：</strong> <code>.card</code> / <code>.btn</code> / <code>.pill</code></li>
        <li><strong>Pages：</strong> Archive 用クラス等</li>
      </ul>
    </section>


    <!-- ============================================
         P3 – JS Structure
    ============================================ -->
    <section id="pattern-js-structure" class="card-works">
      <header>
        <h2>P3. JS Structure Pattern（JavaScript）</h2>
        <p class="meta"><span>対象：/demos/**/app.js</span></p>
      </header>

      <p class="lead">
        「上から順に読めば理解できる」ことを最重要として、記述順を固定します。
      </p>

      <ol class="bullets">
        <li>設定（定数）</li>
        <li>状態管理（state）</li>
        <li>DOM参照</li>
        <li>ユーティリティ（純粋関数）</li>
        <li>描画関数（render）</li>
        <li>イベント（bindEvents）</li>
        <li>初期化（DOMContentLoaded）</li>
      </ol>
    </section>


    <!-- ============================================
         P4 – Naming
    ============================================ -->
    <section id="pattern-naming" class="card-works">
      <header>
        <h2>P4. Naming Pattern（命名）</h2>
        <p class="meta"><span>対象：HTML/CSS/JS</span></p>
      </header>

      <ul class="bullets">
        <li>ページ固有：<code>.em-*</code>, <code>.cal-*</code> など。</li>
        <li>共通部品：<code>.card</code>, <code>.btn</code> など短く。</li>
        <li>ID は JS 参照が必要な箇所のみ。</li>
        <li>JS：camelCase、定数は UPPER_SNAKE_CASE。</li>
      </ul>
    </section>


    <!-- ============================================
         P5 – Folder
    ============================================ -->
    <section id="pattern-folder" class="card-works">
      <header>
        <h2>P5. Folder Pattern（フォルダ構成）</h2>
        <p class="meta"><span>対象：全体</span></p>
      </header>

<pre><code>assets/     # サイト共通の見た目・スクリプト
demos/      # UI実験（index.html / styles.css / app.js）
partials/   # ヘッダー/フッター
*.html      # 本体（Top / Archive / About / Contact / Patterns）
</code></pre>
    </section>


    <!-- ============================================
         P6 – Comment Header
    ============================================ -->
    <section id="pattern-comment" class="card-works">
      <header>
        <h2>P6. Comment Header Pattern（先頭コメント）</h2>
        <p class="meta"><span>対象：全 HTML/CSS/JS</span></p>
      </header>

<pre><code>&lt;!--
  File: index.html
  Role: Top ページ（紹介）
  Notes:
    - header/footer は data-include 前提
    - main 内のみ編集
--&gt;
</code></pre>
    </section>


    <!-- ============================================
         P7 – Page Style
    ============================================ -->
    <section id="pattern-page-style" class="card-works">
      <header>
        <h2>P7. Page-Specific Style Pattern</h2>
      </header>
      <ul class="bullets">
        <li>専用 CSS は demos や大規模ページのみ。</li>
        <li>必ず接頭辞（例：<code>.em-*</code>）を付与。</li>
        <li>グローバルに影響する変更は慎重に。</li>
      </ul>
    </section>


    <!-- ============================================
         P8 – Demo Pattern
    ============================================ -->
    <section id="pattern-demo" class="card-works">
      <header>
        <h2>P8. Demo Pattern（プロトタイピング）</h2>
      </header>

<pre><code>demos/&lt;name&gt;/
  ├─ index.html
  ├─ styles.css
  └─ app.js
</code></pre>
      <p>Archive からリンクし、必要になったらルート直下に昇格させる。</p>
    </section>


    <!-- ============================================
         P9 – Archive Card Pattern
    ============================================ -->
    <section id="pattern-archive" class="card-works">
      <header>
        <h2>P9. Archive Card Pattern</h2>
      </header>
      <p class="lead">
        Archive は「過程のスナップショット」。形式は固定し、JSON から自動生成する。
      </p>
    </section>


    <!-- ============================================
         P10 – New Page Template
    ============================================ -->
    <section id="pattern-new-page" class="card-works">
      <header><h2>P10. New Page Template Pattern</h2></header>

<pre><code>&lt;!doctype html&gt;
&lt;html lang="ja"&gt;
&lt;head&gt; ... &lt;/head&gt;
&lt;body&gt;
  &lt;div data-include="/partials/header.html"&gt;&lt;/div&gt;
  &lt;main class="site-main wrap"&gt;...&lt;/main&gt;
  &lt;div data-include="/partials/footer.html"&gt;&lt;/div&gt;
  &lt;script src="/assets/include.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
    </section>


    <!-- ============================================
         Appendix A
    ============================================ -->
    <section id="appendix-quick" class="card-works">
      <header><h2>Appendix A. 新しいページを 5 分で出す</h2></header>
      <ol class="bullets">
        <li>既存ページをコピーし、ファイル名を変更</li>
        <li>title / description / OGP を修正</li>
        <li>本文は main 内のみ編集</li>
        <li>必要なら base.css に 1 ルール追加</li>
        <li>Archive へカード追加（後述の JSON 版推奨）</li>
      </ol>
    </section>


    <!-- ============================================
         Appendix B – Archive Flow
    ============================================ -->
    <section id="appendix-archive" class="card-works">
      <header><h2>Appendix B. Archive 追加手順（JSON → HTML 自動生成）</h2></header>

      <p class="lead">
        Archive は <strong>HTML を直接書かず、JSON（archive-data.js）を更新するだけ</strong> の運用とする。
      </p>

<pre><code>assets/
  archive-data.js   # カード定義（JSON）
  archive.js        # JSON → HTML 生成
archive.html        # 空コンテナ + JS読込
</code></pre>

      <h3>手順（最小）</h3>
      <ol class="bullets">
        <li>archive-data.js を開く</li>
        <li>ARCHIVE_ITEMS に 1 レコード追加</li>
        <li>date / title / points / tags / link を記述</li>
        <li>保存すれば自動反映（HTML 編集不要）</li>
      </ol>

      <h3>スキーマ</h3>
<pre><code>{
  id: "arch-YYYYMMDD-slug",
  category: "Design Doc",
  title: "Web Coding Design Pattern",
  date: "2025-11-16",
  duration: "2h",
  status: "v0.1",
  lead: "ページ全体の規約を統合",
  points: { before: "...", how: "...", after: "..." },
  tags: ["#HTML/CSS", "#JavaScript"],
  link: { href: "/demos/...", label: "デモを見る" }
}
</code></pre>
    </section>

  </main>

  <div data-include="/partials/footer.html"></div>
  <script src="/assets/include.js"></script>
</body>
</html>
